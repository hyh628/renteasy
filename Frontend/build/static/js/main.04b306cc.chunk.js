(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,s){},33:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(23),a=s.n(c),i=(s(32),s(4)),l=(s(33),s(3)),r=s(5),o=s(0),j=function(e){return Object(o.jsx)("div",{children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("section",{className:"hero is-small",children:Object(o.jsxs)("div",{className:"container hero-body",children:[Object(o.jsx)("p",{className:"title",children:"Welcome to RentEasy"}),Object(o.jsx)("p",{className:"subtitle",children:"Please sign up first"})]})}),Object(o.jsx)("section",{className:"hero is-small ",children:Object(o.jsxs)("div",{className:"container hero-body",children:[Object(o.jsx)(r.b,{to:"/signup",className:"button is-primary is-large",children:"Sign Up"}),Object(o.jsx)(r.b,{to:"/login",className:"button is-primary is-large",children:"Sign in"})]})})]})})},d=function(e){var t=Object(l.n)();return Object(o.jsx)("section",{className:"hero",children:Object(o.jsxs)("div",{className:"container hero-body",children:[Object(o.jsx)("h1",{className:"title",children:"Login"}),Object(o.jsxs)("form",{onSubmit:function(s){s.preventDefault(),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:s.target.user_name.value,password:s.target.password.value})}).then((function(s){s.ok?(console.log("successfully login"),e.onLogin(),s.json().then((function(s){e.onLogin(s),t("/posts",{user_name:s,replace:!0})}))):console.log("Login wrong")}))},children:[Object(o.jsx)("label",{className:"label",htmlFor:"user_name",children:"Username"}),Object(o.jsx)("input",{name:"user_name",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{name:"password",className:"input"}),Object(o.jsx)("div",{children:"Anonymous access while in prototype mode"}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"submit",className:"button is-primary"})})]})]})})},b=function(e){return Object(o.jsx)("nav",{className:"navbar",class:"navbar is-fixed-top",style:{paddingTop:"5px"},children:Object(o.jsxs)("div",{className:"container",style:{paddingLeft:"32px",paddingRight:"32px"},children:[Object(o.jsxs)("div",{className:"navbar-brand",children:[Object(o.jsx)("a",{className:"navbar-item",href:"/",children:Object(o.jsx)("figure",{className:"image",children:Object(o.jsx)("img",{className:"is-rounded",src:"https://bulma.io/images/placeholders/64x64.png",alt:"Logo"})})}),Object(o.jsxs)("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarMenu",children:[Object(o.jsx)("span",{"aria-hidden":"true"}),Object(o.jsx)("span",{"aria-hidden":"true"}),Object(o.jsx)("span",{"aria-hidden":"true"})]})]}),e.isSignedIn&&Object(o.jsx)("div",{id:"navbarMenu",className:"navbar-menu",children:Object(o.jsxs)("div",{className:"navbar-end",children:[Object(o.jsxs)(r.b,{to:"/userHome",className:"navbar-item",children:[Object(o.jsx)("i",{className:"material-icons",children:"person_outline"}),Object(o.jsx)("div",{children:e.user_name})]}),Object(o.jsx)("a",{className:"button mt",href:"/logout",children:"Logout"})]})})]})})},m=function(e){var t=Object(l.n)();return Object(o.jsx)("section",{className:"hero",children:Object(o.jsxs)("div",{className:"container hero-body",children:[Object(o.jsx)("h1",{className:"title",children:"Sign Up to Start!"}),Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:e.target.user_name.value,password:e.target.password.value,nick_name:e.target.nick_name.value,info:e.target.info.value})}).then((function(e){e.ok?(console.log("got back ok response"),t("/login",{replace:!0})):console.log("sign up wrong")}))},children:[Object(o.jsx)("label",{className:"label",htmlFor:"username",children:"Username"}),Object(o.jsx)("input",{name:"user_name",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{name:"password",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"nick_name",children:"Nickname"}),Object(o.jsx)("input",{name:"nick_name",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"info",children:"Some description about yourself"}),Object(o.jsx)("input",{name:"info",className:"input"}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"submit",className:"button is-primary"})})]})]})})},h=function(e){Object(l.n)();var t=Object(n.useState)([]),s=Object(i.a)(t,2),c=s[0],a=s[1];console.log(e);return Object(o.jsxs)("section",{className:"hero",children:[Object(o.jsxs)("div",{class:"container is-max-desktop",style:{marginTop:"3rem"},children:[Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/posts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({city:e.target.city.value})}).then((function(e){e.ok?e.json().then((function(e){console.log(e),a(e)})):console.log("wrong location")}))},children:[Object(o.jsx)("label",{className:"label",htmlFor:"city",children:"Enter the city you are interested"}),Object(o.jsx)("input",{name:"city",className:"input"}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"submit",className:"button is-primary"})})]}),Object(o.jsx)(r.b,{to:"/addPost",className:"button is-primary is-large",children:"Post a new house"})]}),"``",Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"~~~"})}),Object(o.jsx)("div",{className:"post-list",class:"columns is-desktop",children:c&&c.map((function(e){return Object(o.jsxs)("div",{class:"column is-primary",style:{backgroundColor:"#4FFFB0"},children:[Object(o.jsx)("h2",{className:"title is-4",children:e.user_name}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Start date:"})," ",e.start_date]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"End date:"})," ",e.end_date]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Price:"})," ",e.price]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Description:"})," ",e.description]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Email:"})," ",e.email]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"City:"})," ",e.location.city]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"State:"})," ",e.location.state]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Zip Code:"})," ",e.location.zipCode]})]},e._id)}))})]})},u=function(e){var t=Object(l.n)();return Object(o.jsx)("section",{className:"hero",children:Object(o.jsxs)("div",{className:"container hero-body",children:[Object(o.jsx)("h1",{className:"title",children:"Finish the following information to post"}),Object(o.jsxs)("form",{onSubmit:function(s){s.preventDefault(),console.log(e);var n="/api/"+e.user_name.user_name+"/post";fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:s.target.start_date.value,end_date:s.target.end_date.value,price:s.target.price.value,description:s.target.description.value,email:s.target.email.value,location:{city:s.target.city.value}})}).then((function(e){e.ok?(console.log("got back ok response"),t("/posts",{replace:!0})):console.log("addPost wrong")}))},children:[Object(o.jsx)("label",{className:"label",htmlFor:"start_date",children:"Start Date"}),Object(o.jsx)("input",{name:"start_date",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"end_date",children:"End Date"}),Object(o.jsx)("input",{name:"end_date",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"price",children:"Price"}),Object(o.jsx)("input",{name:"price",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"description",children:"Some description about your house"}),Object(o.jsx)("input",{name:"description",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"email",children:"Email"}),Object(o.jsx)("input",{name:"email",className:"input"}),Object(o.jsx)("label",{className:"label",htmlFor:"city",children:"City"}),Object(o.jsx)("input",{name:"city",className:"input"}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"submit",className:"button is-primary"})})]})]})})},p=function(e){var t=Object(l.n)(),s=Object(n.useState)([]),c=Object(i.a)(s,2),a=c[0],r=c[1];Object(n.useEffect)((function(){console.log("Get the posts on home page"),fetch("/api/".concat(e.user_name.user_name.toString(),"/posts")).then((function(e){e.ok&&e.json().then((function(e){r(e)}))}))}),[]);return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"hero",children:[Object(o.jsx)("div",{class:"container is-max-desktop",style:{marginTop:"3rem"}}),Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"~~~"})}),Object(o.jsx)("div",{className:"post-list",class:"columns is-desktop",children:a&&a.map((function(s){return Object(o.jsxs)("div",{class:"column is-primary",style:{backgroundColor:"#4FFFB0"},children:[Object(o.jsx)("h2",{className:"title is-4",children:s.user_name}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Start date:"})," ",s.start_date]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"End date:"})," ",s.end_date]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Price:"})," ",s.price]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Description:"})," ",s.description]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Email:"})," ",s.email]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"City:"})," ",s.location.city]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"State:"})," ",s.location.state]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"Zip Code:"})," ",s.location.zipCode]}),Object(o.jsx)("button",{onClick:function(){return n=s._id,void fetch("/api/".concat(e.user_name.user_name.toString(),"/").concat(n.toString()),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e),e.ok?t("/posts",{replace:!0}):console.log("sign up wrong")}));var n},className:"button",children:" Delete this post"})]},s._id)}))})]})})},O=function(){var e,t=Object(n.useState)(!1),s=Object(i.a)(t,2),c=s[0],a=s[1],O=Object(n.useState)(null),x=Object(i.a)(O,2),g=x[0],f=x[1];return Object(n.useEffect)((function(){console.log("[CS5356] Loading App for the first time"),fetch("api/user").then((function(e){e.ok&&e.json().then((function(e){a(!0),f(e),console.log(g)}))}))}),[]),Object(o.jsx)("div",{children:Object(o.jsxs)(r.a,{children:[Object(o.jsx)(b,{isSignedIn:c,user_name:null!==(e=null===g||void 0===g?void 0:g.userId)&&void 0!==e?e:null}),Object(o.jsxs)(l.d,{children:[Object(o.jsx)(l.b,{path:"/signup",element:Object(o.jsx)(m,{})}),Object(o.jsx)(l.b,{path:"/addPost",element:Object(o.jsx)(u,{user_name:g})}),Object(o.jsx)(l.b,{path:"/userHome",element:Object(o.jsx)(p,{user_name:g})}),Object(o.jsx)(l.b,{path:"/login",element:Object(o.jsx)(d,{onLogin:function(e){a(!0),f(e)}})}),Object(o.jsx)(l.b,{path:"/posts",element:Object(o.jsx)(h,{user_name:g})}),Object(o.jsx)(l.b,{exact:!0,path:"/",element:Object(o.jsx)(j,{isSignedIn:c})})]})]})})},x=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,36)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),a(e),i(e)}))};a.a.createRoot(document.getElementById("root")).render(Object(o.jsx)(O,{})),x()}},[[35,1,2]]]);
//# sourceMappingURL=main.04b306cc.chunk.js.map